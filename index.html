<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Web Push Demo by Hiptic</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <link rel="manifest" href="/WebPushDemo/manifest.json">
    <meta name="viewport" content="width=device-width">
    <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js"></script>
    <script src="javascripts/onesignal-init.js"></script>
</head>

<body>
    <div class="wrapper">
        <header>
            <h1>Web Push Demo</h1>
            <p></p>

            <p class="view"><a href="https://github.com/Hiptic/WebPushDemo">View the Project on GitHub <small>Hiptic/WebPushDemo</small></a></p>
        </header>
        <section>
            <h3>
                <a id="how-does-this-demo-work" class="anchor" href="#how-does-this-demo-work" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How does this demo work?</h3>

            <ul>
                <li>
                    <p>You should be automatically prompted to subscribe to notifications the first time you visit this website. If you click <em>X</em>, you won't be prompted again for 8 hours. You can also click <em>Block</em> to not be prompted again.</p>
                </li>
                <li>
                    <p>You should receive a welcome notification after subscribing.</p>
                </li>
            </ul>

            <h3>
                <a id="how-can-i-reset-my-state-to-test-like-a-new-user" class="anchor" href="#how-can-i-reset-my-state-to-test-like-a-new-user" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How can I reset my state to test like a new user?</h3>

            <p>Please <a href="https://documentation.onesignal.com/docs/troubleshooting-web-push#section-clearing-your-cache-and-resetting-push-permissions">follow these instructions</a> to wipe your site's storage and reset your notification permissions.</p>

            <p><em>Be sure to close</em> all existing tabs to this site after following those instructions, or simply restart your browser, to complete the reset process.</p>
            
            <hr>
            
            <div class="hidden show-when-subscribed">
                 <h3>Send a Notification</h3>
                
                You can paste this below code into the Developer Tools Console of this page, or click below.
                
                <code>
                    OneSignal.sendSelfNotification(
                      /* Title (defaults if unset) */
                      "OneSignal Web Push Notification",
                      /* Message (defaults if unset) */
                      "Action buttons increase the ways your users can interact with your notification.", 
                       /* URL (defaults if unset) */
                      'https://example.com/?_osp=do_not_open',
                      /* Icon */
                      'https://onesignal.com/images/notification_logo.png',
                      {
                        /* Additional data hash */
                        notificationType: 'news-feature'
                      }, 
                      [{ /* Buttons */
                        /* Choose any unique identifier for your button. The ID of the clicked button 			 is passed to you so you can identify which button is clicked */
                        id: 'like-button',
                        /* The text the button should display. Supports emojis. */
                        text: 'Like',
                        /* A valid publicly reachable URL to an icon. Keep this small because it's 				 downloaded on each notification display. */
                        icon: 'http://i.imgur.com/N8SN8ZS.png',
                        /* The URL to open when this action button is clicked. See the sections below 			 for special URLs that prevent opening any window. */
                        url: 'https://example.com/?_osp=do_not_open'
                      },
                      {
                        id: 'read-more-button',
                        text: 'Read more',
                        icon: 'http://i.imgur.com/MIxJp1L.png',
                        url: 'https://example.com/?_osp=do_not_open'
                      }]
                    );
                </code>

                <button id="button-send-notification">Send a notification</button>
            </div>    
        </section>
        <footer>
        </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>

</body>

</html>
